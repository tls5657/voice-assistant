# 🤖 실시간 음성 비서 (Realtime Voice Assistant)

이 프로젝트는 Python을 기반으로, Whisper ASR (자동 음성 인식) 모델을 사용하여 
실시간으로 사용자 음성 명령을 인식하고 Windows 시스템에서 다양한 작업을 수행하는 프로그램입니다.
음성 끝맺음 후 1초간 침묵을 감지하면 즉시 명령을 처리하여 빠른 응답성을 제공합니다.

## ✨ 주요 기능

* **실시간 음성 인식:** OpenAI의 Whisper ASR 모델(한국어 최적화)을 사용하여 사용자의 발화를 실시간으로 텍스트로 변환합니다.
* **빠른 응답성:** 발화 후 1초간의 침묵만으로도 명령을 인식하고 즉시 처리합니다.
* **Windows 시스템 제어:**
    * 시스템 마스터 볼륨 조절 (높이기/낮추기)
    * 계산기, 메모장 등 기본 프로그램 실행
* **타이머 설정:** "X분 타이머 설정해줘" 명령으로 백그라운드 타이머를 설정하고 완료 시 알림을 받습니다.
* **웹 검색 연동:**
    * YouTube, Google, Naver에서 음성으로 검색하여 웹 브라우저를 자동 실행합니다.
* **프로그램 종료:** 음성 명령으로 프로그램을 안전하게 종료할 수 있습니다.

## 🚀 시작하기

이 프로젝트를 로컬 환경에서 실행하려면 몇 가지 준비 과정이 필요합니다.

### 📋 전제 조건

* **운영체제:** Windows 10/11 (Windows 전용 기능인 볼륨 조절 `pycaw` 라이브러리 사용)
* **Python:** Python 3.8 이상 설치 권장
    * Python 설치 여부 확인: 터미널에서 `python --version` 또는 `python3 --version` 입력
* **Anaconda:** 아나콘다(Anaconda) 또는 미니콘다(Miniconda) 설치 (가상 환경 관리를 위해 권장)
* **마이크:** 음성 입력을 위한 마이크가 필요합니다.

### 📦 설치 방법

1.  **프로젝트 복제 (Clone):**
    Anaconda Prompt를 열고 다음 명령어를 사용하여 프로젝트를 로컬 컴퓨터로 복제합니다.

    ```bash
    git clone https://github.com/tls5657/voice-assistant.git
    ```

2.  **프로젝트 디렉토리로 이동:**

    ```bash
    cd voice-assistant
    ```
3.  **가상 환경 생성 및 활성화 (권장):**
    프로젝트별로 독립적인 파이썬 환경을 구성하여 라이브러리 충돌을 방지합니다.

    #### **옵션 1: Anaconda 또는 Miniconda 사용 시**

    ```bash
    conda create -n voice_env python=3.9  # 'voice_env'는 원하는 가상 환경 이름, python=3.9는 권장 버전
    conda activate voice_env
    ```
    * **참고:** `conda create` 시 Python 버전을 명시하는 것이 좋습니다. 여기서는 `3.9`를 예시로 들었습니다.
    * **Anaconda Prompt 사용:** 아나콘다 가상 환경 관련 명령어(`conda activate`, `conda create`)는 일반 터미널(명령 프롬프트)이 아닌, 아나콘다 설치 시 함께 설치되는 **"Anaconda Prompt"**를 사용하는 것이 가장 안정적입니다.

        
4.  **필요한 라이브러리 설치:**
    가상 환경이 활성화된 상태에서 프로젝트에 필요한 모든 Python 라이브러리들을 `requirements.txt` 파일을 통해 설치합니다.

    ```bash
    pip install -r requirements.txt
    ```
    * **Whisper 모델:** `openai-whisper` 라이브러리는 프로그램 최초 실행 시 `small` 크기의 한국어 모델을 자동으로 다운로드합니다. 이 과정에서 인터넷 연결이 필요하며, 모델 크기에 따라 약간의 시간이 소요될 수 있습니다.

## 🎮 사용 방법

아나콘다 가상 환경(`voice_env` 또는 당신이 지정한 이름)이 활성화된 상태에서 다음 명령어를 실행하여 음성 비서 프로그램을 시작합니다.

```bash
python main.py
````

프로그램이 시작되면 콘솔 창에 다음과 같은 안내 메시지가 출력됩니다.

```
============================================
   실시간 음성 비서(백그라운드 리스너)
============================================
   • 발화 후 1초(=pause_threshold) 동안 침묵이 감지되면 즉시 인식합니다.
   • 예: '계산기 열어줘'라고 말하고 1초간 아무 말 없으면 바로 계산기 실행
   • '종료', '그만', '끝내' 등을 말하면 프로그램이 종료됩니다.
   • '○분 타이머 설정해줘' → 바로 타이머 설정
   • '볼륨 높여줘', '볼륨 낮춰줘' → 바로 볼륨 제어
   • '계산기 열어줘' → 바로 계산기 실행
   • '메모장 열어줘' → 바로 메모장 실행
   • '유튜브에서 ○○ 검색해줘' → 바로 유튜브 검색
   • '구글에 ○○ 검색해줘' → 바로 구글 검색
   • '네이버에서 ○○ 검색해줘' → 바로 네이버 검색
--------------------------------------------
```

이제 마이크에 대고 위 예시와 같은 명령어를 말하면 프로그램이 인식하여 해당 작업을 수행합니다.

### 지원 명령어 예시:

  * "종료" / "그만" / "끝내"
  * "5분 타이머 설정해줘"
  * "볼륨 높여줘"
  * "볼륨 낮춰줘"
  * "계산기 열어줘"
  * "메모장 열어줘"
  * "유튜브에서 고양이 동영상 검색해줘"
  * "구글에 날씨 검색"
  * "네이버에서 최신 뉴스 검색해줘"

## ⚙️ 구성 파일

  * `main_realtime_quicksilence.py`: 메인 실행 파일. 마이크 입력 처리, Whisper ASR 연동, 명령 처리 로직을 포함합니다.
  * `intent_classifier.py`: 음성 인식 결과를 기반으로 사용자의 의도(intent)와 파라미터(parameter)를 분류하는 모듈.
  * `requirements.txt`: 프로젝트 실행에 필요한 Python 라이브러리 목록.

## 📝 라이선스

이 프로젝트는 [MIT License](https://opensource.org/licenses/MIT)를 따릅니다.

-----

**아나콘다 사용자를 위한 추가 팁:**

  * **Anaconda Prompt 사용:** 아나콘다 가상 환경 관련 명령어(`conda activate`, `conda create`)는 일반 터미널(명령 프롬프트)이 아닌, 아나콘다 설치 시 함께 설치되는 \*\*"Anaconda Prompt"\*\*를 사용하는 것이 가장 안정적입니다.
  * **PyAudio 문제:** `pyaudio`는 파이썬 버전에 따라 바이너리 설치가 까다로울 수 있습니다. `pipwin`을 통한 설치 방법이 대부분의 경우 효과적입니다.
